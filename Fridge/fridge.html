<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CookIT | My Fridge</title>
  <link rel="stylesheet" href="fridge.css">

  <header>
    <div>
      <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="toggleNav('mySidenav')">&times;</a>
        <a href="#">About</a>
        <a href="#">Services</a>
        <a href="#">Clients</a>
        <a href="#">Contact</a>
      </div>
      <span style="font-size:30px;cursor:pointer" onclick="toggleNav('mySidenav')">&#9776;</span>
    </div>
    <h1>CookIT</h1>
  </header>
</head>

<body>
  <div class="app">
    <!-- FRIDGE -->
    <div class="rectangle-container">
      <div class="rectangle rectangle-6"></div>
      <div class="rectangle rectangle-7"></div>
      <div class="rectangle rectangle-8" style="overflow: hidden;">
        <div class="itemsContainer">
          <div class="item" id="item1">
            <img
              src="https://images.unsplash.com/photo-1571680322279-a226e6a4cc2a?auto=format&fit=crop&q=80&w=1786&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" />
            <label class="label">Tomato</label>
            <button class="decrease">-</button>
            <input type="number" value="1" min="0" readonly>
            <button class="increase">+</button>
          </div>

          <div class="item" id="item2">
            <img
              src="https://images.unsplash.com/photo-1585849834908-3481231155e8?auto=format&fit=crop&q=80&w=2071&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1pYWdlfHx8fGVufDB8fHx8fA%3D%3D" />
            <label class="label">Shallot</label>
            <button class="decrease">-</button>
            <input type="number" value="1" min="0" readonly>
            <button class="increase">+</button>
          </div>

          <div class="item" id="item3">
            <img
              src="https://images.unsplash.com/photo-1630623093145-f606591c2546?auto=format&fit=crop&q=80&w=1965&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1pYWdlfHx8fGVufDB8fHx8fA%3D%3D" />
            <label class="label">Ginger</label>
            <button class="decrease">-</button>
            <input type="number" value="1" min="0" readonly>
            <button class="increase">+</button>
          </div>
        </div>
      </div>

    </div>
    <div class="rectangle rectangle-9"></div>
    <div class="rectangle rectangle-10"></div>
    </nav>


    <!-- BUTTON -->
    <div class="ButtonContainer">
      <button onclick="document.location='go-to-add.html'" class="ItemButton">Add Items</button>
      <button class="ItemButton" id="editButton">Edit Items</button>
    </div>
  </div>

  <script>
    let navOpen = false;
    let fridgenavOpen = false;

    function toggleNav(sidenavId) {
      const isOpen = (sidenavId === "mySidenav") ? navOpen : fridgenavOpen;
      const width = isOpen ? "0" : "300px";

      if (sidenavId === "mySidenav") {
        navOpen = !navOpen;
      } else if (sidenavId === "fridgeSidenav") {
        fridgenavOpen = !fridgenavOpen;
      }

      document.getElementById(sidenavId).style.width = width;
    }


    let isEditing = false;

    const editButton = document.getElementById("editButton");
    const decreaseButtons = document.querySelectorAll('.decrease');
    const increaseButtons = document.querySelectorAll('.increase');
    const inputFields = document.querySelectorAll('.item input');

    editButton.addEventListener("click", function () {
      isEditing = !isEditing;

      if (isEditing) {
        for (let i = 0; i < decreaseButtons.length && i < increaseButtons.length; i++) {
          decreaseButtons[i].style.display = "inline";
          increaseButtons[i].style.display = "inline";
        }
      } else {
        for (let i = 0; i < decreaseButtons.length && i < increaseButtons.length; i++) {
          decreaseButtons[i].style.display = "none";
          increaseButtons[i].style.display = "none";
        }
      }
    });

    // Add event listeners to the increase buttons
    increaseButtons.forEach((button, index) => {
      button.addEventListener('click', function () {
        if (isEditing) {
          // base 10
          inputFields[index].value = parseInt(inputFields[index].value, 10) + 1;
        }
      });
    });

    // Add event listeners to the decrease buttons
    decreaseButtons.forEach((button, index) => {
      button.addEventListener('click', function () {
        if (isEditing && parseInt(inputFields[index].value, 10) > 0) {
          inputFields[index].value = parseInt(inputFields[index].value, 10) - 1;
        }
      });
    });
  </script>

</body>

</html>