<!DOCTYPE html>
<html>

<head>
    <title>CookIT | View Recipe</title>
    <link rel="stylesheet" href="view.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" />
</head>

<body>
    <div class="main-header">
        <input type="checkbox" id="menuToggle"> <!-- Input with id="menuToggle" -->
        <label for="menuToggle" class="menu-toggle-label">&#9776;</label> <!-- Label with class, not id -->
        <nav class="sidebar">
            <div class="nav-container">
                <label for="menuToggle" class="close-button"><span class="close-text"></span></label>
                <a href="../browse Recipes/browse.html" class="menu-item home-icon">
                    <span class="icon">&#x1F3E0;</span>
                    <span class="text home-text">Browse Recipes</span>
                </a>
                <a href="../Purchase ingredients/purch-part2.html" class="menu-item shop-icon">
                    <span class="icon">&#x1F6D2;</span>
                    <span class="text shop-text">Shop</span>
                </a>
                <a href="../Fridge/inventory.html" class="menu-item fridge-icon">
                    <span class="icon">&#x2744;</span>
                    <span class="text fridge-text">Inventory</span>
                </a>
                <a href="../Login-Register-Profile/Profile.html" class="menu-item profile-icon">
                    <span class="icon">&#x1F464;</span>
                    <span class="text profile-text">Profile</span>
                </a>
            </div>
        </nav>
        <div class="header-title">
            <h1 onclick="document.location='../browse Recipes/browse.html'"
                style="cursor: pointer; margin: 0; color:black;">CookIT</h1>
        </div>

    </div>
    <img class="picture" src="./images/mongolian-beef.jpg" alt="pizza" />
    <div style="margin: 10px;">
        <h1>Mongolian Beef</h1>
        <p>Cooking Time: 45min<br>
            Serving Size: 4 people<br>
            Nutritional Value: 383 Calories, 16g Fat, 31g Carbs, 26g Protein, 1g Fiber
            Fiber<br></p>
        <div class="recipe-rating-container">
            <link rel="stylesheet"
                href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star checked"></span>
            <span class="fa fa-star"> (25.4K)</span>
        </div>

        <div class="recipe-container">
            <div class="ingredients-container">
                <h2>Ingredients</h2>
                <p> • 1 pound flank steak</p>
                <p> • 2 teaspoons neutral oil</p>
                <p> • 2 teaspoons Shaoxing wine</p>
                <p> • 1 teaspoon soy sauce</p>
                <p> • 1 tablespoon cornstarch</p>
                <p> • 1 tablespoon water</p>
                <p> • 1/4 teaspoon baking soda</p>
                <p> • 1/4 cup light brown sugar</p>
                <p> • 3/4 cup hot water</p>
                <p> • 1/4 cup soy sauce</p>
                <p> • 1 teaspoon dark soy sauce</p>
                <p> • 1/2 cup cornstarch</p>
                <p> • 2/3 cup neutral oil</p>
                <p> • 1 teaspoon ginger</p>
                <p> • 8 dried red chili peppers</p>
                <p> • 3 cloves garlic</p>
                <p> • 4 scallions</p>
                <p> • 1 1/2 tablespoons cornstarch</p>

            </div>

            <div class="recipe-steps-container">
                <h2>Steps</h2>
                <label class="container">Combine the sliced beef with the marinade ingredients the neutral oil, Shaoxing wine, light soy sauce, cornstarch, water, and baking soda. Marinate for 1 hour. The beef should still be quite moist after it has marinated. If it looks too dry, add a tablespoon of water to it.
                    <input type="checkbox" checked="checked">
                    <span class="checkmark"></span>
                </label>
                
                <label class="container">In a small bowl, mix the sauce. Dissolve the brown sugar in the hot water or stock, then stir in the light and dark soy sauces.
                    <input type="checkbox">
                    <span class="checkmark"></span>
                </label>
                
                <label class="container">Next, dredge the marinated beef slices in the cornstarch until thoroughly coated.
                    <input type="checkbox">
                    <span class="checkmark"></span>
                </label>
                
                <label class="container">Heat 2/3 cup neutral oil in a wok over high heat. Just before the oil starts to smoke, spread the flank steak pieces evenly in the wok, and sear for 1 minute on each side, until you have a crispy coating. Turn off the heat and transfer the beef to a plate.
                    <span class="checkmark"></span>
                </label>
    
                <label class="container">Drain the oil from the wok (save it for other cooking), leaving 1 tablespoon behind. Turn the heat to medium-high. Add the ginger and dried chili peppers, if using. If you want the dish spicier, break 1-2 chilies in half. After about 15 seconds, add the garlic and white parts of the scallions. Stir for another 15 seconds and add the premixed sauce.
                    <input type="checkbox">
                    <span class="checkmark"></span>
                </label>
    
                <label class="container">Let the sauce simmer for about 2 minutes, and slowly stir in the cornstarch slurry mixture. Cook until the sauce has thickened enough to coat the back of a spoon.
                    <input type="checkbox">
                    <span class="checkmark"></span>
                </label>
    
                <label class="container">Add the beef and green parts of the scallions, and toss everything together for another 30 seconds. The scallions should just be wilted, and there should be almost no liquid, as the sauce should be clinging to the beef. If you still have sauce, increase the heat slightly and stir until thickened. Plate and serve with steamed rice!
                    <input type="checkbox">
                    <span class="checkmark"></span>
                </label>
            </div>
        </div>

    </div>

    <div id="overlay"></div>

    <div id="popup1" class="popup">
        <span class="closeBtn" onclick="closePopup('popup1')">&times;</span>
        <h1 style="text-align: center;">Ingredients Updated</h1>
        <a style="text-align: center; margin-bottom: 10px;">The quantities of your ingredients have been successfully updated following the
            completion of this recipe!</a>
        <button class="button button4" onclick="openPopup('popup2')">Next</button>
    </div>

    <div id="popup2" class="popup">
        <span class="closeBtn" onclick="closePopup('popup2')">&times;</span>
        <h1 style="text-align: center; margin-bottom: 0;">Write a review</h1>
        <div class="rating-box">
            <header style="font-size: 1rem; color: black;">Tell us what you think of this recipe!</header>
            <div class="stars">
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
            </div>
            <label for="freeform" style="margin-top: 10px;">Type your review below:</label>
            <br>
            <textarea id="freeform" name="freeform" style="width: 100%; resize:none;"></textarea>
        </div>
        <div style="display: flex; flex-direction: row; gap: 50px;">
            <a href="/Fridge/inventory.html">
                <button style="padding: 10px 20px 10px 20px" class="button button3" onclick="document.getElementById('freeform').value = ''">Skip</button>
            </a>
            <a href="/Fridge/inventory.html">
                <button class="button button2" onclick="document.getElementById('freeform').value = ''">Leave
                    Review</button>
            </a>
        </div>

    </div>

    <button style="float:right; margin: 0 30px 30px 0"class="button button1" onclick="openPopup('popup1')">Complete Recipe!</button>

    <script>
        function openPopup(popupId) {
            popupElement = document.getElementById(popupId)
            if (popupId === 'popup2') {
                document.getElementById('popup1').style.display = 'none';
            }
            popupElement.style.display = 'flex';
            document.getElementById('overlay').style.display = 'block';

            popupElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function closePopup(popupId) {
            document.getElementById(popupId).style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }


        // trigger.addEventListener("click", toggleModal);
        // closeButton.addEventListener("click", toggleModal);
        // window.addEventListener("click", windowOnClick);

        // Select all elements with the "i" tag and store them in a NodeList called "stars"
        const stars = document.querySelectorAll(".stars i");

        // Loop through the "stars" NodeList
        stars.forEach((star, index1) => {
            // Add an event listener that runs a function when the "click" event is triggered
            star.addEventListener("click", () => {
                // Loop through the "stars" NodeList Again
                stars.forEach((star, index2) => {
                    // Add the "active" class to the clicked star and any stars with a lower index
                    // and remove the "active" class from any stars with a higher index
                    index1 >= index2 ? star.classList.add("active") : star.classList.remove("active");
                });
            });
        });



    </script>
</body>

</html>